<form {{on "submit" this.submit}} ...attributes>
  <div class="flex flex-row items-stretch mt-4">
    <div class="flex flex-col mr-5 w-1/2">
      <Ui::Input
        id="name"
        @name="name"
        @label="Nom"
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @placeholder={{if (eq @popupType "details") "" "Nom de l'entreprise"}}
        @mandatory={{true}}
        @changeset={{@changeset}}
        @validationField="name"
        @updateValue={{fn this.changeInput "name"}}
        @hasError={{get @changeset.error "name"}}
        @value={{changeset-get @changeset "name"}}
        @disabled={{if (eq @popupType "details") true false}}
        required
        autocapitalize="on"
        type="text"
        data-test-input="name"
        {{on "change" (fn this.setValidation "name")}}
      />
      <Ui::Input
        id="enterpriseNumber"
        @label="N° d'entreprise"
        @name="enterpriseNumber"
        @value={{changeset-get @changeset "enterpriseNumber"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "enterpriseNumber"}}
        @placeholder={{if (eq @popupType "details") "" "0123456789"}}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{false}}
        type="text"
        data-test-input="enterpriseNumber"
        {{on "change" (fn this.setValidation "enterpriseNumber")}}
      />
      <Ui::Input
        id="vatNumber"
        @label="N° de TVA"
        @name="vatNumber"
        @value={{changeset-get @changeset "vatNumber"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "vatNumber"}}
        @placeholder={{if (eq @popupType "details") "" "BE0123456789"}}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{false}}
        type="text"
        data-test-input="vatNumber"
        {{on "change" (fn this.setValidation "vatNumber")}}
      />
      <Ui::Input
        id="city"
        @label="Ville"
        @name="city"
        @value={{changeset-get @changeset "city"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "city"}}
        @placeholder={{if (eq @popupType "details") "" "Mons"}}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{true}}
        required
        autocapitalize="on"
        type="text"
        data-test-input="city"
        {{on "change" (fn this.setValidation "city")}}
      />
    </div>
    <div class="flex flex-col w-1/2">
      <Ui::Input
        id="emailAddress"
        @label="Adresse mail"
        @name="emailAddress"
        @value={{changeset-get @changeset "emailAddress"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "emailAddress"}}
        @placeholder={{if
          (eq @popupType "details")
          ""
          "Adresse mail de l'entreprise"
        }}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{true}}
        @hasError={{fn this.setValidation "emailAddress"}}
        required
        type="text"
        data-test-input="emailAddress"
        {{on "change" (fn this.setValidation "emailAddress")}}
      />
      <Ui::Input
        id="emailAddress2"
        @label="Adresse mail n°2"
        @name="emailAddress2"
        @value={{changeset-get @changeset "emailAddress2"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "emailAddress2"}}
        @placeholder={{if
          (eq @popupType "details")
          ""
          "2e adresse mail de l'entreprise"
        }}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{false}}
        type="text"
        data-test-input="emailAddress2"
        {{on "change" (fn this.setValidation "emailAddress2")}}
      />
      <Ui::Input
        id="phoneNumber"
        @label="N° de téléphone"
        @name="phoneNumber"
        @value={{changeset-get @changeset "phoneNumber"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "phoneNumber"}}
        @placeholder={{if
          (eq @popupType "details")
          ""
          "N° de téléphone de l'enterprise"
        }}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{true}}
        required
        type="text"
        data-test-input="phoneNumber"
        {{on "change" (fn this.setValidation "phoneNumber")}}
      />
      <Ui::Input
        id="phoneNumber2"
        @label="N° de téléphone n°2"
        @name="phoneNumber2"
        @value={{changeset-get @changeset "phoneNumber2"}}
        @containerStyle=""
        @labelStyle="text-textPrimary font-base mt-1 block"
        @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
          (eq @popupType "details")
          "border-textSecondary text-textSecondary"
          "border-textPrimary focus:border-navbarBg text-textPrimary"
        }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
        @updateValue={{fn this.changeInput "phoneNumber2"}}
        @placeholder={{if
          (eq @popupType "details")
          ""
          "2e n° de téléphone de l'entreprise"
        }}
        @disabled={{if (eq @popupType "details") true false}}
        @mandatory={{false}}
        type="text"
        data-test-input="phoneNumber2"
        {{on "change" (fn this.setValidation "phoneNumber2")}}
      />
    </div>
  </div>
  <Ui::Input
    id="address"
    @label="Adresse"
    @name="address"
    @value={{changeset-get @changeset "address"}}
    @containerStyle=""
    @labelStyle="text-textPrimary font-base mt-1 block"
    @inputStyle="w-full rounded-md outline-none transition-all duration-200 border-2 {{if
      (eq @popupType "details")
      "border-textSecondary text-textSecondary"
      "border-textPrimary focus:border-navbarBg text-textPrimary"
    }} pt-1.5 pb-1.5 px-3 font-base focus:outline-none focus:ring-0"
    @updateValue={{fn this.changeInput "address"}}
    @placeholder={{if (eq @popupType "details") "" "Rue, numéro"}}
    @disabled={{if (eq @popupType "details") true false}}
    @mandatory={{true}}
    required
    autocapitalize="on"
    type="text"
    data-test-input="address"
    {{on "change" (fn this.setValidation "address")}}
  />
  {{#if (or (eq @popupType "new") (eq @popupType "edit"))}}
    <div>
      <div
        id="errorEnterpriseForm"
        class="text-warn text-sm w-max mx-auto mt-2"
      >
      </div>
      <button
        type="submit"
        class="block mt-3 text-center py-2 px-5 rounded-md bg-navbarBg text-white mx-auto cursor-pointer hover:bg-opacity-75 active:bg-opacity-25 active:text-navbarBg transition-all duration-200"
        {{on "click" this.validate}}
        data-test-submit="saveEnterprise"
      >
        {{@popupName}}
      </button>
    </div>
  {{/if}}
</form>