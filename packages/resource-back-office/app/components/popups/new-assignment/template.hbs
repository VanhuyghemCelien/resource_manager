<div
  class="fixed top-0 bottom-0 right-0 left-0 bg-textPrimary bg-opacity-30 transition-all duration-200"
>
  <div
    class="flex h-screen justify-center items-center
      {{if @displayNewTypeModal "mr-[432px]"}}
      {{if @displayNewTitleModal "mr-[432px]"}}
      transition-all duration-200"
  >
    <div class="bg-white p-5 rounded-3xl w-auto font-normal">
      <div class="flex flex-row justify-end">
        <h1 class="ml-[19px] w-full text-2xl font-bold text-center">
          Assignment for
        </h1>
        <p class="w-full font-semibold text-navbarBg text-start text-2xl">
          {{@resourceName}}
        </p>
        <button type="button" {{on "click" @toggleDisplayNewAssignmentModal}}>
          <img src="/assets/icons/close-button.svg" alt="close button icon" />
        </button>
      </div>
      <div class="text-center mt-3">
        {{dayFormat @choosingDay}}
      </div>
      <form aria-label="newEnterpriseForm">
        <div class="flex flex-row w-max mx-auto mt-4">
          <div class="w-max">
            <label>
              Morning
              <input
                id="morningInput"
                type="checkbox"
                checked={{this.assignment.isMorning}}
                {{on "click" this.selectedMorning}}
              />
            </label>
          </div>
          <div class="w-max ml-5">
            <label>
              Afternoon
              <input
                id="afternoonInput"
                type="checkbox"
                checked={{this.assignment.isAfternoon}}
                {{on "click" this.selectedAfternoon}}
              />
            </label>
          </div>
        </div>
        <div class="grid {{if this.firstAssignmentExists "grid-cols-2"}}">
          {{#if this.firstAssignmentExists}}
            <div class="grid text-center justify-center grid-rows-4 border-r-2 border-r-navbarSelected mr-2">
              <h1 class="text-xl">Dernières tâches:</h1>
              <button type="button" class="flex items-center">
                {{!-- template-lint-disable no-inline-styles --}}
                {{! template-lint-disable style-concatenation }}
                <div class=" w-6 h-6 mr-3 rounded-full" style="background-color:{{if this.firstAssignment.assignmentType.color this.firstAssignment.assignmentType.color this.firstAssignment.assignmentType.parents.color}}"></div>
                <p>{{this.firstAssignment.assignmentType.parents.name}} - {{this.firstAssignment.assignmentType.name}} - {{this.firstAssignment.enterprise.name}}</p>
              </button>
              {{!-- {{#if this.secondAssignment}}
                <button type="button">
                  <p>{{this.secondAssignment.assignmentType.name}}</p>
                </button>
              {{/if}}
              {{#if this.thirdAssignment}}
                <button type="button">
                  <p>{{this.thirdAssignment.assignmentType.name}}</p>
                </button>
              {{/if}} --}}
            </div>
          {{/if}}
          <div>
            <div class="flex flex-row mt-4 justify-between">
              <p class="w-[76px] grow-0">Type</p>
              <select
                id="typeSelect"
                class="grow text-center mx-4 rounded-xl px-2 bg-white"
                data-test-select="typeSelect"
                {{! template-lint-disable no-inline-styles }}
                {{! template-lint-disable style-concatenation }}
                style="border: 1px solid {{this.assignmentType.color}}"
                {{on "change" this.selectType}}
              >
                <option value="" selected disabled>Sélectionnez un type d'occupation</option>
                {{#each @model.assignmentType as |assignmentType|}}
                  {{#if (not (get assignmentType "parents.name"))}}
                    <option value={{assignmentType.name}}>
                      {{assignmentType.name}}
                    </option>
                  {{/if}}
                {{/each}}
              </select>
              {{! template-lint-disable no-log }}
              {{log this.assignmentType.color}}
              <button
                type="button"
                class="grow-0"
                data-test-input="addAssignmentType"
                {{on "click" @toggleDisplayNewTypeModal}}
                title="Ajouter un type d'occupation"
              >
                <img src="/assets/icons/plus-button.svg" alt="close button icon" />
              </button>
            </div>
            <div class="flex flex-row mt-4 justify-between">
              <p class="w-[76px] grow-0">Title</p>
              <select
                id="titleSelect"
                class="grow text-center mx-4 rounded-xl px-2 bg-white"
                data-test-select="titleSelect"
                {{! template-lint-disable no-inline-styles }}
                {{! template-lint-disable style-concatenation }}
                style="border: 1px solid {{this.assignmentType.color}}"
                disabled
                {{on "change" this.selectTitle}}
              >
                <option value="" selected disabled>
                  Sélectionnez un titre d'occupation
                </option>
              </select>
              <button
                id="newTitleButton"
                type="button"
                class="grow-0"
                data-test-input="addAssignmentTitle"
                {{on "click" @toggleDisplayNewTitleModal}}
                disabled
                title="Ajouter un titre d'occupation pour le type sélectionné"
              >
                <img src="/assets/icons/plus-button.svg" alt="close button icon" />
              </button>
            </div>
            <div class="flex flex-row mt-4 justify-between">
              <p class="w-[76px] grow-0">Enterprise</p>
              <select
                id="enterpriseSelect"
                class="grow text-center mx-4 rounded-xl px-2 bg-white"
                data-test-select="enterprisesSelect2"
                {{! template-lint-disable no-inline-styles }}
                {{! template-lint-disable style-concatenation }}
                style="border: 1px solid {{this.assignmentType.color}}"
                {{on "change" this.selectEnterprise}}
              >
                <option value="" selected disabled>Sélectionnez une entreprise</option>
                {{#each @model.enterprise as |enterprise|}}
                  <option value={{enterprise.name}}>
                    {{enterprise.name}}
                    -
                    {{enterprise.city}}
                  </option>
                {{/each}}
              </select>
              <button
                type="button"
                class="grow-0"
                data-test-input="addEnterprises2"
                {{on "click" @toggleDisplayNewEnterpriseModal}}
              >
                <img src="/assets/icons/plus-button.svg" alt="close button icon" />
              </button>
            </div>
          </div>
        </div>
        <div class="flex flex-row mt-4 justify-between">
          <div class="w-max">
            <label class="cursor-pointer">
              Add a comment ?
              <input
                  id="commentInput"
                  type="checkbox"
                  class="cursor-pointer"
                  data-test-input="comment"
                  {{on "click" this.toggleComment}}
                />
            </label>
          </div>
          <div class="w-max">
            <label class="cursor-pointer">
              Remote ?
              <input id="remoteInput" type="checkbox" class="cursor-pointer" data-test-input="remote" {{on "click" this.selectedRemote}} />
            </label>
          </div>
        </div>
        {{#if this.comment}}
          <div class="flex mt-4">
            <textarea
                id="CommentText"
                class="border border-navbarBg rounded-xl grow p-2 max-h-[350px] min-h-[66px]"
                rows="2"
                data-test-input="commentText"
                {{on "change" this.editAssignmentCommentField}}
              ></textarea>
          </div>
        {{/if}}
        <button
          type="button"
          class="block mt-5 text-center py-2 px-5 rounded-md bg-navbarBg text-white mx-auto cursor-pointer hover:bg-opacity-75 active:bg-opacity-25 active:text-navbarBg transition-all"
          data-test-input="saveAssignment"
          {{on "click" (fn @addAssignment this.assignment)}}
        >
          <p>Add Assignment</p>
        </button>
      </form>

    </div>
  </div>
</div>