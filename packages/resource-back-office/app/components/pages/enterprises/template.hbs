<div class="mt-12 ml-12 mr-10 max-w-[95%]" id="enterprisePage">
  <h1 class="text-3xl font-black text-primary">Enterprises</h1>
  <div
    class="mt-1 w-max rounded-full hover:bg-navbarBg transition-all duration-200"
  >
    <button
      id="test"
      type="button"
      class="mt-0 w-max px-2 py-1 rounded-full cursor-pointer text-navbarBg hover:text-white hover:invert hover:brightness-0 transition-all duration-200"
      {{on "click" (fn this.toggleDisplayEnterpriseModal "new")}}
      data-test-enterprises="addEnterpriseButton"
    >
      <div class="text-lg flex flex-row">
        <img
          src="/assets/icons/plus-button.svg"
          alt="plus button icon"
          class="inline h-6 w-6 my-auto"
        />
        <p class="ml-1">Add an enterprise</p>
      </div>
    </button>
  </div>
  <table class="w-[100%] min-w-[850px]">
    <thead>
      <th class="text-primary text-lg">Name</th>
      <th class="text-primary text-lg">City</th>
      <th class="text-primary text-lg">Email Address</th>
      <th class="text-primary text-lg">Phone Number</th>
    </thead>
    <tbody>
      {{#each @model as |enterprise|}}
        <tr
          class="border-b border-primary border-opacity-25 hover:bg-secondary hover:bg-opacity-10 transition-all duration-200"
        >
          <td
            class="w-1/5 text-center text-primary font-medium px-2 text-base py-2"
          >
            <button
              type="button"
              class="hover:text-navbarBg"
              title="{{enterprise.name}} - {{enterprise.city}}"
              {{on
                "click"
                (fn
                  this.displayEnterpriseDetails "detailsEnterprise" enterprise
                )
              }}
              data-test-enterprises="enterpriseNameDisplayed"
            >
              {{enterprise.name}}
            </button>
          </td>
          <td
            class="w-1/5 text-center text-secondary px-2 text-base py-2"
            data-test-enterprises="enterpriseCityDisplayed"
          >
            {{enterprise.city}}
          </td>
          <td
            class="w-1/5 text-center text-secondary px-2 text-base py-2"
            data-test-enterprises="enterpriseEmailDisplayed"
          >
            {{enterprise.emailaddress}}
          </td>
          <td
            class="w-1/5 text-center text-secondary px-2 text-base py-2"
            data-test-enterprises="enterprisePhoneDisplayed"
          >
            {{enterprise.phonenumber}}
          </td>
          <td class="w-[10%] text-center px-2 py-2">
            <div
              class="w-max rounded-full hover:bg-navbarBg transition-all duration-200"
            >
              <button
                type="button"
                class="px-6 py-2 text-navbarBg text-center flex flex-row text-base hover:text-white hover:invert hover:brightness-0 transition-all duration-200"
                id={{enterprise.enterpriseid}}
                {{on
                  "click"
                  (fn this.displayEnterpriseDetails "editEnterprise" enterprise)
                }}
              >
                <img
                  src="/assets/icons/edit-button.svg"
                  alt="edit button icon"
                  class="inline h-5 w-auto mr-1"
                />
                Edit
              </button>
            </div>
          </td>
          <td class="w-[10%] text-center px-2 py-2">
            <div
              class="w-max rounded-full hover:bg-warn transition-all duration-200"
            >
              <button
                type="button"
                class="px-6 py-2 text-warn text-center flex flex-row text-base hover:text-white hover:invert hover:brightness-0 transition-all duration-200"
                {{on "click" (fn this.displayDeleteEnterprise enterprise)}}
              >
                <img
                  src="/assets/icons/delete-button.svg"
                  alt="delete button icon"
                  class="inline h-5 w-auto mr-1"
                />
                Delete
              </button>
            </div>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
  {{#if this.displayNewEnterpriseModal}}
    <Popups::Enterprises
      @type="new"
      @enterprise={{this.enterprise}}
      @toggleDisplayEnterpriseModal={{this.toggleDisplayEnterpriseModal}}
      @editEnterpriseField={{this.editEnterpriseField}}
      @saveFunction={{this.addEnterprise}}
    />
  {{/if}}
  {{#if this.displayEditEnterpriseModal}}
    <Popups::Enterprises
      @type="edit"
      @enterprise={{this.enterprise}}
      @toggleDisplayEnterpriseModal={{this.toggleDisplayEnterpriseModal}}
      @editEnterpriseField={{this.editEnterpriseField}}
      @saveFunction={{this.editEnterprise}}
    />
  {{/if}}
  {{#if this.displayDetailsEnterpriseModal}}
    <Popups::Enterprises
      @type="details"
      @enterprise={{this.enterprise}}
      @toggleDisplayEnterpriseModal={{this.toggleDisplayEnterpriseModal}}
    />
  {{/if}}
  {{#if this.displayDeleteEnterpriseModal}}
    <div
      class="fixed top-0 bottom-0 right-0 left-0 bg-primary bg-opacity-30 transition-all duration-200"
    >
      <div class="flex h-screen justify-center items-center">
        <div class="bg-white p-5 rounded-3xl w-[500px]">
          <div class="flex flex-row justify-end">
            <button
              type="button"
              {{on "click" this.toggleDisplayDeleteEnterpriseModal}}
            >
              <img
                src="/assets/icons/close-button.svg"
                alt="close button icon"
              />
            </button>
          </div>
          <p class="text-center text-lg">
            Do you really want to delete this enterprise ?
          </p>
          <div class="flex flex-row w-max mx-auto mt-3">
            <button
              type="button"
              class="w-max px-10 py-2 bg-navbarBg text-white rounded-full"
              {{on "click" this.toggleDisplayDeleteEnterpriseModal}}
            >
              No
            </button>
            <button
              type="button"
              class="w-max px-10 py-2 bg-warn text-white ml-3 rounded-full"
              {{on
                "click"
                (fn this.deleteEnterprise this.enterprise.enterpriseid)
              }}
            >
              Yes
            </button>
          </div>
        </div>
      </div>
    </div>
  {{/if}}
</div>