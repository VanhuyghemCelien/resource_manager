<div class="mt-12 ml-12 max-w-[90%] font-normal">
  <div class="flex flex-row">
    <h1 class="text-3xl font-black text-textPrimary">
      Mois :
      {{this.currentMonth}}
    </h1>
    <LinkTo
      @route="dashboard.month"
      class="h-full ml-4 mt-auto text-textSecondary"
    >
      <p>Voir par mois</p>
    </LinkTo>
  </div>
  <div class="flex flex-row h-max mt-4">
    <div class="flex flex-row w-max">
      <LinkTo
        {{! { week : this.choosingMachin } }}
        @query={{hash week=this.choosingDateLess}}
        class="block text-center h-9 w-9 pr-0.5 ml-1 rounded-full bg-white text-navbarBg border border-navbarBg mx-auto cursor-pointer hover:bg-navbarBg hover:text-white hover:bg-opacity-75 active:bg-navbarBg active:bg-opacity-25 active:text-navbarBg transition-all duration-200"
      >
        <p class="w-full text-center mt-1.5">&#x276E;</p>
      </LinkTo>
      <button
        class="block text-center py-1 px-5 ml-1 rounded-full bg-white text-navbarBg border border-navbarBg mx-auto cursor-pointer hover:bg-navbarBg hover:text-white hover:bg-opacity-75 active:bg-navbarBg active:bg-opacity-25 active:text-navbarBg transition-all duration-200"
        type="button"
        {{on "click" this.choosingDayActual}}
      >
        Cette semaine
      </button>
      <button
        class="block text-center h-9 w-9 pl-0.5 ml-1 rounded-full bg-white text-navbarBg border border-navbarBg mx-auto cursor-pointer hover:bg-navbarBg hover:text-white hover:bg-opacity-75 active:bg-navbarBg active:bg-opacity-25 active:text-navbarBg transition-all duration-200"
        type="button"
        {{on "click" this.choosingDayPlus}}
      >
        <p class="w-full text-center">&#x276F;</p>
      </button>
    </div>
    <div class="ml-4 h-max my-auto">
      <label name="specificDay">
        Choisir un jour spécifique
        {{! template-lint-disable no-down-event-binding }}
        <input
          type="date"
          name="specificDay"
          required
          onkeydown="return false"
          label="specificDay"
          class="border border-navbarBg h-9 rounded-full text-navbarBg px-2 text-center ml-1"
          value={{this.specificDay}}
          {{on "change" this.choosingSpecificDay}}
        />
      </label>
    </div>
  </div>

  <div class="mt-3">
    <div class="grid grid-cols-6 gap-1 mb-5">
      <div class="text-center"></div>
      <Ui::Dayhead @choosingDay={{this.choosingDay}} @numDay={{1}} />
      <Ui::Dayhead @choosingDay={{this.choosingDay}} @numDay={{2}} />
      <Ui::Dayhead @choosingDay={{this.choosingDay}} @numDay={{3}} />
      <Ui::Dayhead @choosingDay={{this.choosingDay}} @numDay={{4}} />
      <Ui::Dayhead @choosingDay={{this.choosingDay}} @numDay={{5}} />
    </div>
    {{#each @model.resource as |resource|}}
      <Ui::Assignment
        @resource={{resource}}
        @choosingDay={{this.choosingDay}}
        @toggleDisplayNewAssignmentModal={{this.toggleDisplayNewAssignmentModal}}
      />
    {{/each}}
  </div>
  {{#if this.displayNewAssignmentModal}}
    <Popups::NewAssignment
      @model={{@model}}
      @displayNewTypeModal={{this.displayNewTypeModal}}
      @displayNewTitleModal={{this.displayNewTitleModal}}
      @displayNewEnterpriseModal={{this.displayNewEnterpriseModal}}
      @resourceName={{this.resourceName}}
      @toggleDisplayNewAssignmentModal={{this.toggleDisplayNewAssignmentModal}}
      @toggleDisplayNewTypeModal={{this.toggleDisplayNewTypeModal}}
      @toggleDisplayNewTitleModal={{this.toggleDisplayNewTitleModal}}
      @toggleDisplayNewEnterpriseModal={{this.toggleDisplayNewEnterpriseModal}}
      @addAssignment={{this.addAssignment}}
      @assignment={{this.assignment}}
      @choosingDay={{this.choosingDay}}
      @assignmentTitle={{this.assignmentTitle}}
    />
  {{/if}}
  {{#if this.displayNewTypeModal}}
    {{!-- <Popups::AssignmentType
      @toggleDisplayModal={{this.toggleDisplayNewTypeModal}}
      @editAssignmentTypeField={{this.editAssignmentTypeField}}
      @toggleIsColorChecked={{this.toggleColor}}
      @saveFunction={{this.addAssignmentType}}
      @isColorChecked={{this.multipleColor}}
    /> --}}
    <Forms::AssignmentType
      @type="type"
      @changeset={{this.assignmentTypeChangeset}}
      @toggleDisplayModal={{this.toggleDisplayNewTypeModal}}
      @editAssignmentTypeField={{this.editAssignmentTypeField}}
      @toggleIsColorChecked={{this.toggleColor}}
      @saveFunction={{this.addAssignmentType}}
      @isColorChecked={{this.multipleColor}}
    />
  {{/if}}
  {{#if this.displayNewEnterpriseModal}}
    <Popups::CreateEditDetails
      @changeset={{this.changesetEnterprise}}
      @popupType="new"
      @objectType="Enterprise"
      @toggleDisplayModal={{this.toggleDisplayNewEnterpriseModal}}
      @saveFunction={{this.addEnterprise}}
    />
  {{/if}}
  {{#if this.displayNewTitleModal}}
    {{!-- <div
      class="fixed top-0 bottom-0 right-0 left-0 bg-textPrimary bg-opacity-30 transition-all duration-200"
    >
      <div
        class="flex h-screen justify-center ml-[432px] items-center transition-all duration-200"
      >
        <div class="bg-white p-5 rounded-3xl w-[314px]">
          <div class="flex flex-row justify-center">
            <h1 class="ml-[19px] w-full text-2xl font-bol text-center">
              Nouveau titre d'occupation :
            </h1>
            <button
              type="button"
              {{on "click" this.toggleDisplayNewTitleModal}}
            >
              <img
                src="/assets/icons/close-button.svg"
                alt="close button icon"
              />
            </button>
          </div>
          <div>
            <input
              type="text"
              id="titleInput"
              class="border border-textPrimary rounded mx-auto w-full mt-4 px-3 py-1"
              {{on "change" (fn this.editAssignmentTitleField "name")}}
            />
          </div>
          {{#if this.multipleColor}}
            <div class="flex flex-row mt-2 justify-between">
              <p class="w-10/12">
                Sélectionnez la couleur à appliquer pour ce titre d'occupation
              </p>
              <input
                type="color"
                id="colorTitleInput"
                class="my-auto w-2/12"
                {{on "change" (fn this.editAssignmentTitleField "color")}}
              />
            </div>
          {{/if}}
          <button
            type="button"
            class="block mt-4 text-center py-2 px-5 rounded-md bg-navbarBg text-white mx-auto cursor-pointer hover:bg-opacity-75 active:bg-opacity-25 active:text-navbarBg transition-all duration-200"
            {{on "click" this.addAssignmentTitle}}
          >
            <p>Créer le titre</p>
          </button>
        </div>
      </div>
    </div> --}}
    <Forms::AssignmentType
      @type="title"
      @model={{@model}}
      @parentsOption={{this.parentsOption}}
      @changeset={{this.assignmentTypeChangeset}}
      @toggleDisplayModal={{this.toggleDisplayNewTitleModal}}
      @editAssignmentTypeField={{this.editAssignmentTitleField}}
      @toggleIsColorChecked={{this.toggleColor}}
      @saveFunction={{this.addAssignmentTitle}}
      @isColorChecked={{this.multipleColor}}
    />
  {{/if}}
</div>